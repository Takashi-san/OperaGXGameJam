// Resolve movement
direction = input_direction;
speed = input_x != 0 || input_y != 0 ? movement_speed : 0;